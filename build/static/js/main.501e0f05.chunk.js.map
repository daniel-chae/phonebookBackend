{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/phonebookServices.js","App.js","index.js"],"names":["Filter","filter","onFilterChange","value","onChange","PersonForm","onEntrySubmit","newName","onNameChange","newNumber","onNumberChange","onSubmit","type","Person","person","onDeletePerson","name","number","onClick","Persons","filteredPersons","map","key","Notification","message","messageType","className","baseUrl","newPerson","axios","post","then","response","data","id","delete","updatedPerson","put","get","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","phonebookServices","filterKeyword","toLocaleLowerCase","includes","e","newFilter","target","preventDefault","personToUpdate","find","confirm","window","setTimeout","catch","err","error","concat","deletedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.501e0f05.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\n// From here ----------------------------------------------------------> Filter component\r\nconst Filter = ({ filter, onFilterChange }) => (\r\n  <div>\r\n    filter shown with <input value={filter} onChange={onFilterChange} />\r\n  </div>\r\n);\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\n// From here ----------------------------------------------------------> PersonForm component\r\nconst PersonForm = ({\r\n  onEntrySubmit,\r\n  newName,\r\n  onNameChange,\r\n  newNumber,\r\n  onNumberChange,\r\n}) => (\r\n  <form onSubmit={onEntrySubmit}>\r\n    <div>\r\n      name: <input value={newName} onChange={onNameChange} />\r\n    </div>\r\n    <div>\r\n      number: <input value={newNumber} onChange={onNumberChange} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n);\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\n// From here ----------------------------------------------------------> Person component\r\nconst Person = ({ person, onDeletePerson }) => (\r\n  <div>\r\n    {person.name} {person.number}\r\n    <button onClick={() => onDeletePerson(person)}>delete</button>\r\n  </div>\r\n);\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\n// From here ----------------------------------------------------------> Persons component\r\nconst Persons = ({ filteredPersons, onDeletePerson }) => (\r\n  <div>\r\n    {filteredPersons.map((person) => (\r\n      <Person\r\n        person={person}\r\n        key={person.name}\r\n        onDeletePerson={onDeletePerson}\r\n      />\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, messageType }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  return <div className={messageType}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getPersons = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst createPerson = (newPerson) => {\r\n  const request = axios.post(baseUrl, newPerson);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst updatePerson = (id, updatedPerson) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, updatedPerson);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default { createPerson, deletePerson, updatePerson, getPersons };\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport Filter from \"./components/Filter\";\r\nimport PersonForm from \"./components/PersonForm\";\r\nimport Persons from \"./components/Persons\";\r\nimport Notification from \"./components/Notification\";\r\nimport phonebookServices from \"./services/phonebookServices\";\r\n\r\nconst App = () => {\r\n  // From here ----------------------------------------------------------> Defined for useState hook\r\n  const [persons, setPersons] = useState([]);\r\n\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [successMessage, setSuccessMessage] = useState(null);\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n  // From here ----------------------------------------------------------> Defined for useEffect hook\r\n  const hook = () => {\r\n    phonebookServices.getPersons().then((persons) => {\r\n      setPersons(persons);\r\n    });\r\n  };\r\n\r\n  useEffect(hook, []);\r\n\r\n  // From here ----------------------------------------------------------> Defined for Filter component\r\n  const onFilterChange = (e) => {\r\n    const newFilter = e.target.value;\r\n    setFilter(newFilter);\r\n  };\r\n\r\n  // From here ----------------------------------------------------------> Defined for PersonFrom Component\r\n  const onNameChange = (e) => {\r\n    setNewName(e.target.value);\r\n  };\r\n\r\n  const onNumberChange = (e) => {\r\n    setNewNumber(e.target.value);\r\n  };\r\n\r\n  const onEntrySubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const personToUpdate = persons.find(\r\n      (person) =>\r\n        person.name.toLocaleLowerCase() === newName.toLocaleLowerCase()\r\n    );\r\n\r\n    if (personToUpdate) {\r\n      const confirm = window.confirm(\r\n        `${personToUpdate.name} is already added to phonebook, replace the old number with a new one?`\r\n      );\r\n\r\n      const id = personToUpdate.id;\r\n\r\n      if (confirm) {\r\n        const newData = {\r\n          name: newName,\r\n          number: newNumber,\r\n          id,\r\n        };\r\n        phonebookServices\r\n          .updatePerson(id, newData)\r\n          .then((updatedPerson) => {\r\n            setPersons(\r\n              persons.map((person) =>\r\n                person.id !== updatedPerson.id ? person : updatedPerson\r\n              )\r\n            );\r\n            setSuccessMessage(`Updated ${updatedPerson.name}`);\r\n            setTimeout(() => {\r\n              setSuccessMessage(null);\r\n            }, 2000);\r\n          })\r\n          .catch((err) => {\r\n            setErrorMessage(err.response.data.error);\r\n          });\r\n      }\r\n      setNewName(\"\");\r\n      setNewNumber(\"\");\r\n      return;\r\n    }\r\n\r\n    const newEntry = {\r\n      name: newName,\r\n      number: newNumber,\r\n    };\r\n\r\n    phonebookServices\r\n      .createPerson(newEntry)\r\n      .then((newPerson) => {\r\n        setPersons(persons.concat(newPerson));\r\n        setSuccessMessage(`Created ${newPerson.name}`);\r\n        setTimeout(() => {\r\n          setSuccessMessage(null);\r\n        }, 2000);\r\n      })\r\n      .catch((err) => {\r\n        setErrorMessage(err.response.data.error);\r\n      });\r\n\r\n    setNewName(\"\");\r\n    setNewNumber(\"\");\r\n  };\r\n\r\n  // From here ----------------------------------------------------------> Defined for Person component\r\n  const filterPersons = (filterKeyword) => {\r\n    return persons.filter((person) =>\r\n      person.name\r\n        .toLocaleLowerCase()\r\n        .includes(filterKeyword.toLocaleLowerCase())\r\n    );\r\n  };\r\n\r\n  const filteredPersons = filter ? filterPersons(filter) : persons;\r\n\r\n  const onDeletePerson = (person) => {\r\n    const confirm = window.confirm(`Delete ${person.name} ?`);\r\n    if (confirm) {\r\n      return phonebookServices\r\n        .deletePerson(person.id)\r\n        .then((response) => {\r\n          setPersons(\r\n            persons.filter((deletedPerson) => deletedPerson.id !== person.id)\r\n          );\r\n          setSuccessMessage(\r\n            `Information of ${person.name} is successfully deleted from server`\r\n          );\r\n          setTimeout(() => {\r\n            setSuccessMessage(null);\r\n          }, 2000);\r\n        })\r\n        .catch((error) => {\r\n          setErrorMessage(\r\n            `Information of ${person.name} has already been removed from server`\r\n          );\r\n          setTimeout(() => {\r\n            setErrorMessage(null);\r\n          }, 2000);\r\n          setPersons(persons.filter((target) => target.id !== person.id));\r\n        });\r\n    }\r\n    return;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={successMessage} messageType=\"success\" />\r\n      <Notification message={errorMessage} messageType=\"error\" />\r\n      <Filter filter={filter} onFilterChange={onFilterChange} />\r\n      <h3>Add a new</h3>\r\n      <PersonForm\r\n        onEntrySubmit={onEntrySubmit}\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        onNameChange={onNameChange}\r\n        onNumberChange={onNumberChange}\r\n      />\r\n      <h3>Numbers</h3>\r\n      <Persons\r\n        filteredPersons={filteredPersons}\r\n        onDeletePerson={onDeletePerson}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}